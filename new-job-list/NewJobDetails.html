
<html>

<head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no" />

    <link rel="stylesheet" type="text/css" href="https://stackpath.bootstrapcdn.com/font-awesome/4.7.0/css/font-awesome.min.css" 
          integrity="sha384-wvfXpqpZZVQGK6TAh5PVlGOfQNHSoD2xbE+QkPxCAFlNEevoEH3Sl0sibVcOQVnN" crossorigin="anonymous" />
    <link rel="stylesheet" type="text/css" href="https://unpkg.com/aos@2.3.1/dist/aos.css" />
    <link rel="stylesheet" type="text/css" href="newJobDetails.css" />
    <link rel="stylesheet" href="../src/css/common.css">
    <script type="text/javascript" src="https://unpkg.com/aos@2.3.1/dist/aos.js"></script>
    <script type="text/javascript" src="https://unpkg.com/headroom.js@0.12.0/dist/headroom.min.js"></script>
    <script src="https://cdn.jsdelivr.net/gh/px2code/posize/build/v1.00.6.js"></script>


</head>

<body style="display: flex; flex-direction: column">
    <div class="new-job-details group layout">
        
        <div class="group1 layout">
            <div class="txt layout">Add details</div>
        </div>
        <div class="group1 layout3">
            
            <div class="group1 layout2">
                
                <div class="group1 layout1">
                    <img src="../src/assets/21f8a5dcc9431a42525053b9fd5fa455.svg" alt="" class="img layout" />
		            <img src="../src/assets/949bdaf521405b99f1bb83433425c2d1.png" alt="" class="img layout1" />
                </div>
                <div class="rect layout"></div>
            </div>
            <img src="../src/assets/2942380326c1176418fcc85b1e444217.png" alt="" class="img1 layout" />
        </div>
        <div class="group1 layout4">
            <div class="rect1 layout"></div>
        </div>
        <div class="group1 layout5">
            <div class="txt1 layout"><input type="date" id="lastDateToApply" required  min="this.dateForValidation" /></div>
        </div>
        <div class="group1 layout6">
            <div class="txt2 layout" style="width: 140%;">Last Date to Apply <span class="red">*</span></div>
        </div>
        <px-posize x="817px 115fr 508fr" y="130px minmax(0px, 14fr) 1104fr" absolute="true">
            <div class="txt3">Number of Post <span class="red">*</span></div>
        </px-posize>
        <div class="rect1 layout1"></div>
        <px-posize x="837px 156fr 447fr" y="176px minmax(0px, 14fr) 1058fr" absolute="true">
            <div class="txt4"><input type="text", id="noOfPost" placeholder="Ex:3" required/></div>
        </px-posize>
        <px-posize x="817px 115fr 508fr" y="1055px minmax(0px, 14fr) 179fr" absolute="true">
            <div class="txt3">State <span class="red">*</span></div>
        </px-posize>
        <div class="rect1 layout2"></div>
        <px-posize x="837px 156fr 447fr" y="1101px minmax(0px, 14fr) 133fr" absolute="true">
            <div class="txt4"><select class="statedrop" id="state"></select></div>
        </px-posize>
        <px-posize x="271px 115fr 1054fr" y="1055px minmax(0px, 14fr) 179fr" absolute="true">
            <div class="txt3">Country <span class="red">*</span></div>
        </px-posize>
        <div class="rect1 layout3"></div>
        <px-posize x="291px 156fr 993fr" y="1101px minmax(0px, 14fr) 133fr" absolute="true">
            <div class="txt4"><select class="countryDrop"  id="country" onchange="ApiforState()" required>
             
            </select></div>
        </px-posize><img src="../src/assets/89171a1a0301622c90b8864c32e925fd.png" alt="" class="img layout2" />
	<img src="../src/assets/89171a1a0301622c90b8864c32e925fd.png" alt="" class="img layout3" />
	<img src="../src/assets/89171a1a0301622c90b8864c32e925fd.png" alt="" class="img layout4" />
        <px-posize x="272px 115fr 1053fr" y="130px minmax(0px, 14fr) 1104fr" absolute="true">
            <div class="txt3">Job Title <span class="red">*</span></div>
        </px-posize>
        <div class="rect1 layout4"></div>
        <px-posize x="292px 156fr 992fr" y="176px minmax(0px, 14fr) 1058fr" absolute="true">
            <div class="txt4"><input type="text", id="jobTitle" placeholder="Ex: Developer" required/></div>
        </px-posize>
        <div class="group1 layout7">
            <div class="rect1 layout5"></div>
        </div>
        <div class="group1 layout8">
            <px-posize track-style='{"flexGrow":1}' x="0px 48fr 0fr" y="0px minmax(0px, 14fr) 0fr">
                <div class="txt4"><input type="text", id="salary" placeholder="$1200"/></div>
            </px-posize>
        </div>
        <div class="group1 layout9">
            <div class="txt2 layout">Salary</div>
        </div>
        <div class="group1 layout10">
            <div class="rect1 layout5"></div>
        </div>
        <div class="group1 layout11">
            <div class="txt5 layout"><input type="text", id="companyName" value="Rumango" required/></div>
        </div>
        <div class="group1 layout12">
            <div class="txt2 layout">Company Name <span class="red">*</span></div>
        </div>
        <div class="group1 layout13">
            <div class="rect1 layout5"></div>
        </div>
        <div class="group1 layout14">
            <div class="txt1 layout"><input type="text", id="website" placeholder="http://rumango.com"/></div>
        </div>
        <div class="group1 layout15">
            <div class="txt2 layout">Website</div>
        </div>
        <div class="group1 layout16">
            <div class="rect1 layout6"></div>
        </div>
        <div class="group1 layout17">
            <div class="txt1 layout"><input type="text", id="email" placeholder="you@gmail.com" required/></div>
        </div>
        <div class="group1 layout18">
            <div class="txt2 layout">Email <span class="red">*</span></div>
        </div>
        <div class="group1 layout19">
            <div class="rect1 layout6"><input type="file", id="logoUrl" placeholder="No file chosen"/></div>
        </div>
        <div class="group1 layout20">
            <!-- <div class="txt1 layout"><input type="file", id="logoUrl" placeholder="No file chosen"/></div> -->
        </div>
        <div class="group1 layout21">
            <div class="txt2 layout">Company Logo</div>
        </div>
        <!-- <div class="group1 layout22">
           
            <div class="rect2 layout"></div>
            <div class="txt6 layout">Choose File</div>
        </div> -->
        <div class="group1 layout23">
           
            <div class="rect3 layout"></div>
            <div class="txt7 layout" onClick="submit()">Add Job</div>
        </div>
        <img src="../src/assets/c5bac91e26aa4c6067f49789e41026ac.png" alt="" class="img layout5" />
        <div class="group1 layout24">
            <div class="rect1 layout7"></div>
        </div>
        <div class="group1 layout25">
            <!-- <px-posize track-style='{"flexGrow":1}' x="0px 279fr 0fr" y="0px minmax(0px, 59fr) 0fr">
                <div class="txt8">Enter job description<input type="text", id="descriptions"/></div>
            </px-posize> -->
            <textarea type="text" id="descriptions" cols="100" rows="10" placeholder="Enter job description"></textarea>
        </div>
        <div class="group1 layout26">
            <px-posize track-style='{"flexGrow":1}' x="0px 99fr 0fr" y="0px minmax(0px, 14fr) 0fr">
                <div class="txt3">Descriptions <span class="red">*</span></div>
            </px-posize>
           
        </div>
        <div class="group1 layout27">
            <div class="rect1 layout7"></div>
        </div>
        <div class="group1 layout28">
            <px-posize track-style='{"flexGrow":1}' x="0px 279fr 0fr" y="0px minmax(0px, 59fr) 0fr">
                <div class="txt8"><input type="text", id="address" placeholder="Enter address" required/></div>
            </px-posize>
        </div>
        <div class="group1 layout29">
            <px-posize track-style='{"flexGrow":1}' x="0px 99fr 0fr" y="0px minmax(0px, 14fr) 0fr">
                <div class="txt3">Address <span class="red">*</span></div>
            </px-posize>
        </div>
        <div class="group1 layout30">
            <div class="rect1 layout8"></div>
        </div>
        <div class="group1 layout31">
            <px-posize track-style='{"flexGrow":1}' x="0px 48fr 0fr" y="0px minmax(0px, 14fr) 0fr">
                <!-- <div class="txt4">Ex: BE<input type="text", id="qualificationRequired"/></div> -->
                <select  id="qualificationRequired">
                    <option value="BE">B.E</option>
                    <option value="B.Tech">B.Tech</option>
                    <option value="M.Tech">M.Tech</option>
                    <option value="Any Degree">Any Degree</option>
                    <option value="Ph.D">Ph.D</option>
                  </select>
            </px-posize>
        </div>
        <div class="group1 layout32">
            <div class="txt2 layout" style="width: 120%;">Qualification Required <span class="red">*</span></div>
        </div>
        <div class="group1 layout33">
            <div class="rect1 layout8"></div>
        </div>
        <div class="group1 layout34">
            <div class="txt1 layout"><input type="text", id="specializationRequired" placeholder="Enter Specialization"/></div>
        </div>
        <div class="group1 layout35">
            <div class="txt2 layout">Specialization Required <span class="red">*</span></div>
        </div>
        <div class="group1 layout36">
            <div class="rect1 layout"></div>
        </div>
        <div class="group1 layout37">
            <div class="txt1 layout"><input type="text", id="jobType" placeholder="Select job type" required/></div>
        </div>
        <div class="group1 layout38">
            <div class="txt2 layout" style="width: 140%;">Job Type <span class="red">*</span></div>
        </div>
        <div class="group1 layout39">
            <div class="rect1 layout"></div>
        </div>
        <div class="group1 layout40">
            <div class="txt1 layout"><input type="text", id="experienceRequired" placeholder="Ex: 2 - 5 Years"/></div>
        </div>
        <div class="group1 layout41">
            <div class="txt2 layout">Experience Required <span class="red">*</span> </div>
        </div>
        <div class="group2 layout">
            <img src="../src/assets/9c71b8eadfebaada652a3203c32bb9f5.png" alt="" class="img layout6" />
            <div class="group1 layout42">
                <img src="../src/assets/fad3bb21f0460df1a9d73cdc935618d2.png" alt="" class="img layout7" />
            </div>
            <div class="group1 layout45">
                
                <div class="group3 layout">
                    <div class="group1 layout43">
   			<img src="../src/assets/7167ce581006f73e6f64164742db669e.png" alt="" class="img layout" />
                        <px-posize x="36px 112fr 0fr" y="0px minmax(0px, 24fr) 0fr" absolute="true">
                            <div class="txt9">
                               <a href="../admin-dashboard/AdminDashboard.html" style="text-decoration: none; color:rgb(138, 169, 182);">Dashboard</a>
			    </div>
                        </px-posize>
                    </div>
                </div>
                <div class="group4 layout">
                    
                    <div class="group1 layout44">
                        <img src="../src/assets/9738b03cacf5729d96bbbb1313205829.png" alt="" class="img layout8" />
                        <div class="rect4 layout"></div>
                        <div class="rect4 layout1"></div>
                    </div>
                    <px-posize x="56px 112fr 20fr" y="10px minmax(0px, 24fr) 10fr" absolute="true">
                        <div class="txt10">New job</div>
                    </px-posize>
                </div>
                <div class="group3 layout1">
                    <div class="group1 layout43">
                       <img src="../src/assets/862296fcd3c41112a7c39e969c5e4fa8.png" alt="" class="img layout" />
                        <px-posize x="36px 112fr 0fr" y="0px minmax(0px, 24fr) 0fr" absolute="true">
                            <div class="txt9">
                                <a href="../JobListPage/JobListPage.html"
                                   style="text-decoration: none; color:rgb(138, 169, 182);">Job list
                                </a>
                            </div>
                        </px-posize>
                    </div>
                </div>
                <div class="group3 layout2">
                    <div class="group1 layout43">
                        <img src="../src/assets/f0bf2e7c6123ebe172530398396c947c.png" alt="" class="img layout" />
                        <px-posize x="36px 112fr 0fr" y="0px minmax(0px, 24fr) 0fr" absolute="true">
                            <div class="txt9">
                                <a href="../view-resume/ViewResumePage.html"
			           style="text-decoration: none; color:rgb(138, 169, 182);">View resume
                                </a>
                            </div>
                        </px-posize>
                    </div>
                </div>
                <div class="group3 layout3">
                    <div class="group1 layout43">
                       <img src="../src/assets/af7acc96e7fc27fe3479db8e44233d7d.png" alt="" class="img layout" />
                        <px-posize x="36px 112fr 0fr" y="0px minmax(0px, 24fr) 0fr" absolute="true">
                            <div class="txt9">
                                <a href="../contacts-list-page/ContactsListPage.html"
			           style="text-decoration: none; color:rgb(138, 169, 182);">Contact list
                                </a>
                            </div>
                        </px-posize>
                    </div>
                </div>
            </div>
            <div class="group5 layout">
               
                <div class="rect5 layout"></div>
                <img src="../src/assets/3e014b751bec254b92667feb27ddf5a7.png" alt="" class="img layout9" />
                <img src="../src/assets/3e014b751bec254b92667feb27ddf5a7.png" alt="" class="img layout10"/>
                <div class="group1 layout46">
                   
                    <div class="rect1 layout9"></div>
                    <px-posize x="24fr 69.23% 24fr" y="12px minmax(0px, 16fr) 12fr" absolute="true">
                        <div class="txt11">Logout</div>
                    </px-posize>
                </div>
                <div class="group1 layout47">
                   <img src="../src/assets/5de2224ccd85afb81825eb968620f18d.png" alt="" class="img layout11" />
                    <div class="rect6 layout"></div>
                </div>
            </div>
            <div class="rect7 layout"></div>
            <div class="rect8 layout"></div>
            <div class="txt12 layout">?</div>
        </div>
    </div>
    <script type="text/javascript">
        AOS.init();
        window.addEventListener("pageshow", () => {
  // update hidden input field
  console.log("dfgdfg")
  document.getElementById('jobTitle').value = '';
       document.getElementById('noOfPost').value = '';
       document.getElementById('descriptions').value = '';
       document.getElementById('qualificationRequired').value = '';
       document.getElementById('experienceRequired').value = '';
       document.getElementById('specializationRequired').value = '';
       document.getElementById('lastDateToApply').value = '';
       document.getElementById('salary').value = '';
       document.getElementById('jobType').value = '';
       document.getElementById('companyName').value = '';
       document.getElementById('logoUrl').value = '';
       document.getElementById('website').value = '';
       document.getElementById('email').value = '';
       document.getElementById('address').value = '';
       document.getElementById('country').value = '';
       document.getElementById('state').value = '';
});
        

        var countryName = []; 
       
            const d = new Date ();
            
            const dateForValidation = "";
            formatDate(d);
            function formatDate(date) {
            var d = new Date(date),
             month = '' + (d.getMonth() + 1),
             day = '' + d.getDate(),
              year = d.getFullYear();

              if (month.length < 2) 
                 month = '0' + month;
             if (day.length < 2) 
                  day = '0' + day;

               this.dateForValidation = [year, month, day].join('-');
            }
 console.log(this.dateForValidation)
 const countriesDropDown = document.querySelector(".countryDrop");
 
 console.log(countriesDropDown)
 fetch('http://192.168.0.14:8081/RumangoWebsite/jobs-api/fetchAllCountry', {
    method: 'GET',
    }).then(function(rsp){
        return rsp.json()}).then(function(data){
            console.log(data);
           
            for(var i = 0 ; i< data.length; i++){
            this.countryName.push(data[i].countryName);
            }
            console.log(this.countryName);
            for (let item in data) {
            
            let option = document.createElement("option");
           option.setAttribute('value',data[item].id);

          let optionText = document.createTextNode(data[item].countryName);
           option.appendChild(optionText);

            countriesDropDown.appendChild(option);
}
            
         });
         function ApiforState(){
            let countryId = document.querySelector(".countryDrop").value;
         console.log(countryId)
         fetch('http://192.168.0.14:8081/RumangoWebsite/jobs-api/fetchStateInfoByCountryId?countryId='+countryId, {
    method: 'GET',
    
    }).then(function(rsp){
        return rsp.json()}).then(function(data){
            console.log(data);
            const statedropdown = document.querySelector(".statedrop");
            console.log(statedropdown);
            for (let item in data) {
            
            let option = document.createElement("option");
           option.setAttribute('value',data[item].stateName);

          let optionText = document.createTextNode(data[item].stateName);
           option.appendChild(optionText);
           statedropdown.appendChild(option);
        }

       
        });
         }
         

    
 

            // const month = date.getMonth() + 1;
            // const year = date.getFullYear();
            // const date1 = date.getDate();
            
            // console.log(year,date1,month)
       
		
		console.log("inside script");
        function submit(){
         var jobTitle = document.getElementById('jobTitle').value;
         var noOfPost = document.getElementById('noOfPost').value;
		 var descriptions = document.getElementById('descriptions').value;
		 var qualificationRequired = document.getElementById('qualificationRequired').value;
		 var experienceRequired = document.getElementById('experienceRequired').value;
		 var specializationRequired = document.getElementById('specializationRequired').value;
		 var lastDateToApply = document.getElementById('lastDateToApply').value;
		 var salary = document.getElementById('salary').value;
		 var jobType = document.getElementById('jobType').value;
		 var companyName = document.getElementById('companyName').value;
		 var logoUrl = document.getElementById('logoUrl').value;
		 var website = document.getElementById('website').value;
		 var email = document.getElementById('email').value;
		 var address = document.getElementById('address').value;
		 var country = document.getElementById('country').value;
		 var state = document.getElementById('state').value;		
	     var jobId = localStorage["jobId"];
	     console.log(jobId);
         console.log(jobTitle);
         console.log(noOfPost);   
         fetch('http://192.168.0.14:8081/RumangoWebsite/jobs-api/saveOrUpdateJobsInfo', {
             method: 'POST',
             body: JSON.stringify({
			 jobId:jobId,
	         jobTitle:jobTitle,
             noOfPost:noOfPost,
		     descriptions:descriptions,
		     qualificationRequired:qualificationRequired,
		     experienceRequired:experienceRequired,
		     specializationRequired:specializationRequired,
		     lastDateToApply:lastDateToApply,
		     salary:salary,
		     jobType:jobType,
		     companyName:companyName,
		     logoUrl:logoUrl,
		     website:website,
		     email:email,
		     address:address,
		     country:country,
		     state:state
            }),
         headers: {
              'Content-type': 'application/json; charset=UTF-8',
            }
         }).then(function(response){ 
         return response.json()}).then(function(data)
         {
		 console.log(data);
         document.getElementById('jobTitle').value ='';
 document.getElementById('noOfPost').value ='';
 document.getElementById('descriptions').value ='';
 document.getElementById('qualificationRequired').value ='';
 document.getElementById('experienceRequired').value ='';
 document.getElementById('specializationRequired').value ='';
 document.getElementById('lastDateToApply').value ='';
 document.getElementById('salary').value ='';
 document.getElementById('jobType').value ='';
 document.getElementById('companyName').value ='';
 document.getElementById('logoUrl').value ='';
 document.getElementById('website').value ='';
 document.getElementById('email').value = '';
 document.getElementById('address').value = '';
 document.getElementById('country').value = '';
 document.getElementById('state').value = '';
         
		 /*if(data){

          window.location.replace("AdminDashboard.html");    
          setTimeout("pageRedirect()", 10000);
		  }*/
         }).catch(error => console.error('Error:', error));
           alert('The new job is uploaded successfully.');
           		
        }

	
		
		jobTitleValue = localStorage["jobTitle"];
		console.log(jobTitleValue);
		noOfPostValue = localStorage["noOfPost"];
		descriptionsValue = localStorage["descriptions"];
		qualificationRequiredValue = localStorage["qualificationRequired"];
		experienceRequiredValue = localStorage["experienceRequired"];
		specializationRequiredValue = localStorage["specializationRequired"];
		lastDateToApplyValue = localStorage["lastDateToApply"];
		salaryValue = localStorage["salary"];
		jobTypeValue = localStorage["jobType"];
		companyNameValue = localStorage["companyName"];
		logoUrlValue = localStorage["logoUrl"];
		websiteValue = localStorage["website"];
		emailValue = localStorage["email"];
		addressValue = localStorage["address"];
		stateValue = localStorage["state"];
		countryValue = localStorage["country"];
		if(jobTitleValue) {
		 document.getElementById('jobTitle').value = jobTitleValue;
		 document.getElementById('noOfPost').value = noOfPostValue;
		 document.getElementById('descriptions').value = descriptionsValue;
		 document.getElementById('qualificationRequired').value = qualificationRequiredValue;
		 document.getElementById('experienceRequired').value = experienceRequiredValue;
		 document.getElementById('specializationRequired').value = specializationRequiredValue;
		 document.getElementById('lastDateToApply').value = lastDateToApplyValue;
		 document.getElementById('salary').value = salaryValue;
		 document.getElementById('jobType').value = jobTypeValue;
		 document.getElementById('companyName').value = companyNameValue;
		 document.getElementById('logoUrl').value = logoUrlValue;
		 document.getElementById('website').value = websiteValue;
		 document.getElementById('email').value = emailValue;
		 document.getElementById('address').value = addressValue;
		 document.getElementById('state').value = stateValue;
		 document.getElementById('country').value = countryValue;
    	 localStorage["jobTitle"] = '';
		 localStorage["noOfPost"] = '';
		 localStorage["descriptions"] = '';
		 localStorage["qualificationRequired"] = '';
		 localStorage["experienceRequired"] = '';
		 localStorage["specializationRequired"] = '';
		 localStorage["lastDateToApply"] = '';
		 localStorage["salary"] = '';
		 localStorage["jobType"] = '';
		 localStorage["companyName"] = '';
		 localStorage["logoUrl"] = '';
		 localStorage["website"] = '';
		 localStorage["email"] = '';
		 localStorage["address"] = '';
		 localStorage["state"] = '';
		 localStorage["country"] = '';
		}
		
    </script>
</body>

</html>